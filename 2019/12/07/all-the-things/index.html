<!DOCTYPE html>
<html><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="theme-color" content="#F15A29">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="alternate" type="application/rss+xml" title="not://files v3.0" href="https://notfiles.xyz/feed.xml">
  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>All the things | not://files v3.0</title>
<meta name="generator" content="Jekyll v4.2.2" />
<meta property="og:title" content="All the things" />
<meta name="author" content="Calle Englund" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="One limitation so far was that there could only be one surface in a scene. To get past that, we add the Group meta-surface, that contains a number of surfaces, and intersects with rays on their behalf. To make this actually useful, surfaces also need transforms to translate them out of their shared origin." />
<meta property="og:description" content="One limitation so far was that there could only be one surface in a scene. To get past that, we add the Group meta-surface, that contains a number of surfaces, and intersects with rays on their behalf. To make this actually useful, surfaces also need transforms to translate them out of their shared origin." />
<link rel="canonical" href="https://notfiles.xyz/2019/12/07/all-the-things/" />
<meta property="og:url" content="https://notfiles.xyz/2019/12/07/all-the-things/" />
<meta property="og:site_name" content="not://files v3.0" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2019-12-07T11:22:00+00:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="All the things" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Calle Englund"},"dateModified":"2019-12-07T11:22:00+00:00","datePublished":"2019-12-07T11:22:00+00:00","description":"One limitation so far was that there could only be one surface in a scene. To get past that, we add the Group meta-surface, that contains a number of surfaces, and intersects with rays on their behalf. To make this actually useful, surfaces also need transforms to translate them out of their shared origin.","headline":"All the things","mainEntityOfPage":{"@type":"WebPage","@id":"https://notfiles.xyz/2019/12/07/all-the-things/"},"url":"https://notfiles.xyz/2019/12/07/all-the-things/"}</script>
<!-- End Jekyll SEO tag -->
<script id="mathjax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script><script id="mermaid-script" src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script><script type="text/javascript">
    mermaid.initialize({theme:"dark"})
  </script>
  </head>
<body><header class="site-header">
  <div class="wrapper">
    <a class="site-title" href="/">not://files v3.0</a><nav class="site-nav" id="site-navigation" aria-label="Menu">
  <label for="site-menu-toggle" class="menu-icon" aria-label="Menu">
    <i class="fas fa-bars"></i>
  </label>
  <input id="site-menu-toggle" class="menu-toggle" type="checkbox"/><ul id="site-menu" class="menu">
    <li class="menu-item">
      <a class="page-link" href="/posts/">
          All Posts
        </a></li>
    <li class="menu-item">
      <a class="page-link" href="/archive/">
          Archives
        </a></li>
    <li class="menu-item">
      <a class="page-link" href="/category/">
          Categories
        </a></li>
    <li class="menu-item">
      <a class="page-link" href="/tag/">
          Tags
        </a></li>
</ul>
</nav>
</div>
</header>
<section class="page-content">
      <div class="wrapper">
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header class="post-header">
    <h1 class="post-title" itemprop="name headline">All the things</h1>
    <div class="post-meta"><time datetime="2019-12-07T11:22:00+00:00" itemprop="datePublished">Saturday, 2019-12-07</time>
       in
    <a href="/category/devlog/"
       title="Development Logs">devlog</a>
   about
    <a href="/tag/devember/" title="participation in Devember">
      #devember</a>,
  
    <a href="/tag/devember2019/" title="Devember 2019 ray tracer">
      #devember2019</a>,
  
    <a href="/tag/hourofcode/" title="coding for one hour per day">
      #hourofcode</a>,
  
    <a href="/tag/swift/" title="coding in Swift">
      #swift</a>,
  
    <a href="/tag/raytracing/" title="">
      #raytracing</a>
  </div></header>

  <section class="post-content" itemprop="articleBody">
    <p>One limitation so far was that there could only be one surface in a scene. To get past that, we add the <code class="language-plaintext highlighter-rouge">Group</code> meta-surface, that contains a number of surfaces, and intersects with rays on their behalf. To make this actually useful, surfaces also need transforms to translate them out of their shared origin.</p>

<p>To keep the simplified unit sphere intersection formula, the surface is not actually transformed, but instead the intersecting ray is inversely transformed to shift its frame of reference to the surface.</p>

<p><img src="/img/2019/12/grouped-spheres.png" alt="Group of spheres" /></p>

  </section>
</article>
<section class="post-list"><h2>Next related</h2><article class="post-item">
  <header class="post-header">
    <h3 class="post-link">
      <a href="/2019/12/08/messy-shadows/" >
        Messy shadows
      </a>
    </h3>
    <div class="post-meta">Sunday, 2019-12-08 in
    <a href="/category/devlog/"
       title="Development Logs">devlog</a>
   about
    <a href="/tag/devember/" title="participation in Devember">
      #devember</a>,
  
    <a href="/tag/devember2019/" title="Devember 2019 ray tracer">
      #devember2019</a>,
  
    <a href="/tag/hourofcode/" title="coding for one hour per day">
      #hourofcode</a>,
  
    <a href="/tag/swift/" title="coding in Swift">
      #swift</a>,
  
    <a href="/tag/raytracing/" title="">
      #raytracing</a>
  
    </div>
  </header>
  <section class="post-excerpt">
    <blockquote>
      Apparently, I messed up some more vector algebra. Ray / surface hits currently record the event in surface space, which works just fine for shading a unit sphere still positioned at origin. When we transform things around, and try to cast the secondary shadow rays, it becomes painfully obvious that surface space and world space no longer coincide.

    </blockquote>
  </section>
</article>
<h2>Previous related</h2><article class="post-item">
  <header class="post-header">
    <h3 class="post-link">
      <a href="/2019/12/06/light-and-magic/" >
        Light and Magic
      </a>
    </h3>
    <div class="post-meta">Friday, 2019-12-06 in
    <a href="/category/devlog/"
       title="Development Logs">devlog</a>
   about
    <a href="/tag/devember/" title="participation in Devember">
      #devember</a>,
  
    <a href="/tag/devember2019/" title="Devember 2019 ray tracer">
      #devember2019</a>,
  
    <a href="/tag/hourofcode/" title="coding for one hour per day">
      #hourofcode</a>,
  
    <a href="/tag/swift/" title="coding in Swift">
      #swift</a>,
  
    <a href="/tag/raytracing/" title="">
      #raytracing</a>
  
    </div>
  </header>
  <section class="post-excerpt">
    <blockquote>
      The next natural step after getting basic shading to work is to have actual light sources, that can be tinted and positioned in the scene.

    </blockquote>
  </section>
</article>
<article class="post-item">
  <header class="post-header">
    <h3 class="post-link">
      <a href="/2019/12/05/working-camera/" >
        Working camera
      </a>
    </h3>
    <div class="post-meta">Thursday, 2019-12-05 in
    <a href="/category/devlog/"
       title="Development Logs">devlog</a>
   about
    <a href="/tag/devember/" title="participation in Devember">
      #devember</a>,
  
    <a href="/tag/devember2019/" title="Devember 2019 ray tracer">
      #devember2019</a>,
  
    <a href="/tag/hourofcode/" title="coding for one hour per day">
      #hourofcode</a>,
  
    <a href="/tag/swift/" title="coding in Swift">
      #swift</a>,
  
    <a href="/tag/raytracing/" title="">
      #raytracing</a>
  
    </div>
  </header>
  <section class="post-excerpt">
    <blockquote>
      So yesterday’s attempt at capturing an image didn’t turn out so well, because I messed up the camera, or rather the vector algebra behind everything. When I realized what I had done, I instantly remembered that similar lesson from last year; because points have w=1, while vectors have w=0, almost all vector operations will get messed up by the extra 1, if you accidentally use a point instead. Or vice versa.

    </blockquote>
  </section>
</article>
<article class="post-item">
  <header class="post-header">
    <h3 class="post-link">
      <a href="/2019/12/04/actual-pixels/" >
        Actual pixels
      </a>
    </h3>
    <div class="post-meta">Wednesday, 2019-12-04 in
    <a href="/category/devlog/"
       title="Development Logs">devlog</a>
   about
    <a href="/tag/devember/" title="participation in Devember">
      #devember</a>,
  
    <a href="/tag/devember2019/" title="Devember 2019 ray tracer">
      #devember2019</a>,
  
    <a href="/tag/hourofcode/" title="coding for one hour per day">
      #hourofcode</a>,
  
    <a href="/tag/swift/" title="coding in Swift">
      #swift</a>,
  
    <a href="/tag/raytracing/" title="">
      #raytracing</a>
  
    </div>
  </header>
  <section class="post-excerpt">
    <blockquote>
      First actual image generated, using a “camera light”. The shading is too dark, for some reason I can’t figure out at the moment, so I guess tomorrow will be more of a debugging session than new feature creation.

    </blockquote>
  </section>
</article>
</section>

      </div>
    </section><footer class="site-footer">

  <div class="wrapper">

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li>Calle Englund</li>
          <li><a href="mailto:calle@notfiles.xyz">calle@notfiles.xyz</a></li>
        </ul>
      </div>

      <div class="footer-col footer-col-2">
        <ul class="social-media-list"><li title="Twitter">
            <i class="icon fab fa-twitter"></i>
            <a rel="me" href="https://twitter.com/@notCalle">
              notCalle
            </a>
          </li><li title="GitHub">
            <i class="icon fab fa-github"></i>
            <a rel="me" href="https://github.com/notCalle">
              notCalle
            </a>
          </li><li title="Mastodon">
            <i class="icon fab fa-mastodon"></i>
            <a rel="me" href="https://mastodon.social/@notCalle">
              notCalle
            </a>
          </li>
        </ul>
      </div>

      <div class="footer-col footer-col-3">
        Random development ramblings, maybe.

      </div>
    </div>

  </div>

</footer>
</body>
</html>
